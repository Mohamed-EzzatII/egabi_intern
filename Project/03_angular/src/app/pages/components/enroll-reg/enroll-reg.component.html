<div class="container mt-4">
  <h3>Student Enrollment</h3>
  <!-- Select Student -->
  <div class="form-group mt-3">
    <label for="studentSelect">Select Student</label>
    <select
      [(ngModel)]="selectedStudentName"
      class="form-control"
      id="studentSelect"
    >
      <option [ngValue]="null">-- Choose Student --</option>
      <option *ngFor="let student of students" [ngValue]="student.studentName">
        {{ student.studentName }}
      </option>
    </select>
  </div>

  <!-- Select Course -->
  <div class="form-group mt-3">
    <label for="courseSelect">Select Course</label>
    <select
      [(ngModel)]="selectedCourseName"
      class="form-control"
      id="courseSelect"
    >
      <option [ngValue]="null">-- Choose Course --</option>
      <option *ngFor="let course of courses" [ngValue]="course.courseName">
        {{ course.courseName }} (Min Level: {{ course.minLevel }})
      </option>
    </select>
  </div>

  <!-- Buttons -->
  <div class="mt-3 mb-4">
    <button
      class="btn btn-success"
      (click)="enrollStudent()"
      [disabled]="!selectedStudentName || !selectedCourseName"
    >
      Enroll
    </button>
    <button class="btn btn-primary ms-2" (click)="loadEnrollments()">
      List All Enrollments
    </button>
  </div>

  <!-- Enrollments List -->
  <div class="card shadow p-3">
    <h5>Enrollments</h5>
    <table
      class="table table-striped table-bordered text-center"
      *ngIf="enrollments && enrollments.length > 0"
    >
      <thead class="table-dark">
        <tr>
          <th>Student</th>
          <th>Course</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let e of enrollments">
          <td>{{ e.studentName }}</td>
          <td>{{ e.courseName }}</td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="!enrollments || enrollments.length === 0" class="text-muted">
      No enrollments found.
    </p>
  </div>
</div>
